<!DOCTYPE html>
<html lang="en" translate="no">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Sabado.css">
   
</head>

<body>
  <div class="Contenedor">
      <form action="">
         <label class="titulo">Inicio de Trimestre</label><br>
        <div class="Trimestres">
           
        <input type="radio" name="Trimestre" value="1" id="1">
        <label for=""> Trimestre I</label><br>
        <input type="radio" name="Trimestre" value="2" id="2">
        <label for=""> Trimestre II</label><br>
        <input type="radio" name="Trimestre" value="3" id="3">
        <label for=""> Trimestre III</label><br>
        <input type="radio" name="Trimestre" value="4" id="4">
        <label for=""> Trimestre IV</label><br>

        </div>

    </form>
    <button onclick="Dias()" id="Comenzar">Comenzar</button>
    <div id="contenedorPrincipal"></div>
    <button onclick="NombresPredicadores()" >Listado</button>
  </div>
</body>

</html>
<script>
        const boton = document.getElementById("Comenzar");
        

        

        const url = new URLSearchParams(window.location.search);
        const valor = url.get('id');
        






    const nombresDias = ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"];
    const DiasUsados = []
    const PredicadoresDispo = []
    function Dias() {
        Opcion = document.querySelector('input[name="Trimestre"]:checked').value;
        
        AnoActual = new Date()
        Actual = AnoActual.getFullYear();

        if(Opcion == 1){
            
            let Inicio = new Date(Actual+"/01/01")
            let Final = new Date(Actual+"/03/31")
            DiasDisponibles(Inicio,Final)
        }
        if (Opcion == 2) {
            let Inicio = new Date(Actual+"/04/01")
            let Final = new Date(Actual+"/06/30")
            DiasDisponibles(Inicio,Final)
        }
        if(Opcion == 3){
            let Inicio = new Date(Actual+"/07/01")
            let Final = new Date(Actual+"/09/30")
            DiasDisponibles(Inicio,Final)
        }
        if (Opcion ==4) {
            let Inicio = new Date(Actual+"/010/01")
            let Final = new Date(Actual+"/12/31")
            DiasDisponibles(Inicio,Final)
        }

   function DiasDisponibles(Inicio,Final){
        cont = 0
           while (Inicio < Final) {
            //Modificacion Dias de Predicacion con el id que pase por el enlace
            
            if (Inicio.getDay() == valor) {
                cont++
                console.log(Inicio.getDate())
                DiasUsados.push(Inicio.getDate())
                
            }
            
            Inicio.setDate(Inicio.getDate()+1);
            
            
        }
        EspaciosPredicacion(cont)
    }
}
function EspaciosPredicacion(cont){

    for (let i = 0; i < cont; i++) {
        const div = document.createElement('div');
        div.class = 'input-container';
        div.id = `contenedorSp`;
        
        // Crea el label para el input
        const label = document.createElement('label');
        label.textContent = `${DiasUsados[i]}:`;
        label.htmlFor = `input-${i}`;
        
        // Crea el input de tipo texto
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'Predicadores';
        input.id = `input-${i}`;
        input.placeholder = "Puesto de Predicacion Disponible";
        
        // Agrega los elementos al div
        div.appendChild(label);
        div.appendChild(input);
        
        // Agrega el div al contenedor principal en el DOM
        contenedorPrincipal.appendChild(div);
    }
    
}


function NombresPredicadores(){

   let Predicadores = document.querySelectorAll('.Predicadores');

   Predicadores.forEach((input,Index) =>{
    PredicadoresDispo.push(input.value)
   
   });
   for (let I = 0; I < PredicadoresDispo.length; I++) {
    console.log(`Fecha ${DiasUsados[I]}: Para ${PredicadoresDispo[I]} `)
   }

    localStorage.setItem('Trimestre', JSON.stringify(Opcion));
    localStorage.setItem('DiasPredicacion',JSON.stringify(DiasUsados));
    localStorage.setItem('PredicadoresDisp',JSON.stringify(PredicadoresDispo));

   if (valor == 6) {
     window.location.href = "./SabadoForm/SabadoForm.html"
   }else if(valor == 3){
     window.location.href = "./MiercolesForm/MiercolesForm.html"
   }else if(valor == 5){
     window.location.href = "./ViernesForm/ViernesForm.html"
   }

}
</script>